{% extends "layouts/base.html" %}
{% block content %}
<div class="container-fluid full-dashboard">
  <h2>My Toâ€‘Do List</h2>

  <!-- Task list -->
  <ul class="list-group">
    {% for task in tasks %}
      <li class="list-group-item {% if task.completed %}list-group-item-success{% endif %}">
        <strong>{{ task.title }}</strong> - {{ task.description }}
        {% if task.due_date %}
          <span class="badge badge-info">Due: {{ task.due_date }}</span>
        {% endif %}
      </li>
    {% empty %}
      <li class="list-group-item">No tasks yet.</li>
    {% endfor %}
  </ul>

  <!-- Inline form to add a new task -->
  <div class="mt-4">
    <h4>Add a New Task</h4>
    <form method="post">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit" class="btn btn-primary">Save Task</button>
    </form>
  </div>
</div>
{% endblock %}
